on:
  schedule:
  - cron:  "5 16 * * *"
workflow_dispatch:
  
  name: 01_script

jobs:
  run-r-script:
  runs-on: ubuntu-latest
env:
  GITHUB_PAT: ${{ secrets.PAT_GH }}
steps:
- uses: actions/checkout@v3
- uses: r-lib/actions/setup-r@v2
with:
  use-public-rspm: true

- uses: r-lib/actions/setup-r-dependencies@v2
with:
  packages: |
  any::here
any::fishR
any::rfishbase
any::glue

- name: Execute Script
run: |
  Rscript "01_check_tax_names/01_script.R"

- name: Commit results
run: |
  git config --local user.email "actions@github.com"
git config --local user.name "GitHub Actions"
git add .
git commit -m "Results from R script" || echo "No changes to commit"
git push origin || echo "No changes to commit"-